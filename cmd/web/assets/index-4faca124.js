import{_ as h}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-f6213a89.js";import{_ as w}from"./UiParentCard.vue_vue_type_script_setup_true_lang-0e150107.js";import{_ as y}from"./AiAudio.vue_vue_type_style_index_0_lang-ab9d5699.js";import{d as N,r as o,x as c,c as k,k as R,Z as U,j as e,m as a,W as p,_ as u,F,au as K}from"./utils-15090c58.js";import{V as _}from"./VRow-ab8e6ed5.js";import{V as i}from"./VCol-e2fcfa86.js";import{V as j}from"./VForm-123b6ecf.js";import{a4 as n,a5 as V,V as B}from"./index-24ceeda1.js";import{V as C}from"./VFileInput-01190dfb.js";const L={class:"d-flex flex-column flex-sm-row gap-3 justify-center"},q={class:"d-flex flex-column"},A=N({__name:"index",setup($){const v=o({title:"声纹注册"}),b=o([{text:"智能声纹",disabled:!1,href:"#"},{text:"声纹注册",disabled:!0,href:"#"}]),m=o(),d=o(!1),l=c({file:[],userName:"",userKey:""}),f=c({file:[t=>t&&t.length!==0||"请上传音频文件"],userName:[t=>!!t||"请输入用户姓名"],userKey:[t=>!!t||"请输入用户标识"]}),x=k(()=>l.file&&l.file.length>0?URL.createObjectURL(l.file[0]):""),g=async()=>{const{valid:t}=await m.value.validate();if(t){d.value=!0;const[s,r]=await K.upload({url:"/voice/register",showSuccess:"注册成功",data:l});r&&m.value.reset(),d.value=!1}};return(t,s)=>(R(),U(F,null,[e(h,{title:v.value.title,breadcrumbs:b.value},null,8,["title","breadcrumbs"]),e(w,{title:"注册"},{default:a(()=>[e(_,{justify:"center"},{default:a(()=>[e(i,{cols:"12",md:"6"},{default:a(()=>[e(j,{ref_key:"formRef",ref:m},{default:a(()=>[e(_,null,{default:a(()=>[e(i,{cols:"12"},{default:a(()=>[p("div",L,[e(y,{src:x.value},null,8,["src"])]),e(n,{class:"mb-2 font-weight-medium"},{default:a(()=>[u("音频文件")]),_:1}),e(C,{modelValue:l.file,"onUpdate:modelValue":s[0]||(s[0]=r=>l.file=r),accept:"audio/*, .mp3, .wma, .amr, .wav, .m4a","prepend-icon":"mdi-volume-high",rules:f.file,"hide-details":"auto",variant:"outlined",required:"",multiple:""},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(n,{class:"mb-2 font-weight-medium"},{default:a(()=>[u("用户姓名")]),_:1}),e(V,{modelValue:l.userName,"onUpdate:modelValue":s[1]||(s[1]=r=>l.userName=r),"hide-details":"auto",rules:f.userName,required:""},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(n,{class:"mb-2 font-weight-medium"},{default:a(()=>[u("用户标识")]),_:1}),e(V,{modelValue:l.userKey,"onUpdate:modelValue":s[2]||(s[2]=r=>l.userKey=r),"hide-details":"auto",rules:f.userKey,required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),p("div",q,[e(B,{loading:d.value,color:"primary",class:"mt-4",block:"",onClick:g},{default:a(()=>[u(" 提交 ")]),_:1},8,["loading"])])]),_:1},512)]),_:1})]),_:1})]),_:1})],64))}});export{A as default};
