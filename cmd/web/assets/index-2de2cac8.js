import{_ as V}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-f6213a89.js";import{_ as m}from"./UiParentCard.vue_vue_type_script_setup_true_lang-0e150107.js";import{d as h,r as l,c as b,k as d,Z as c,j as e,m as a,_ as w,$ as g,F as y,au as C}from"./utils-15090c58.js";import{_ as k}from"./AiAudio.vue_vue_type_style_index_0_lang-ab9d5699.js";import{V as s}from"./VCol-e2fcfa86.js";import{V as f}from"./VRow-ab8e6ed5.js";import{V as F}from"./VFileInput-01190dfb.js";import{a0 as $,$ as B,V as D}from"./index-24ceeda1.js";const U=["textContent"],j={key:1,class:"flex-fill text-center"},q=h({__name:"index",setup(L){const p=l({title:"声音转文本"}),_=l([{text:"语音服务",disabled:!1,href:"#"},{text:"声音转文本",disabled:!0,href:"#"}]),r=l(!1),t=l([]),n=l(""),u=b(()=>t.value&&t.value.length>0?URL.createObjectURL(t.value[0]):""),v=async()=>{if(!u)return;new FormData().append("file",t.value[0]),r.value=!0;const[i,o]=await C.upload({url:"/voice/translation",data:{file:t.value}});o&&(n.value=o.data.text),r.value=!1};return(x,i)=>(d(),c(y,null,[e(V,{title:p.value.title,breadcrumbs:_.value},null,8,["title","breadcrumbs"]),e(f,null,{default:a(()=>[e(s,{cols:"12"},{default:a(()=>[e(m,{title:"上传音频"},{default:a(()=>[e(f,{class:"justify-center"},{default:a(()=>[e(s,{cols:"12",class:"text-center"},{default:a(()=>[e(k,{src:u.value},null,8,["src"])]),_:1}),e(s,{cols:"12",md:"6"},{default:a(()=>[e(F,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=o=>t.value=o),accept:"audio/*, .mp3, .wma, .amr, .wav, .m4a",label:"请选择音频","prepend-icon":"mdi-volume-high","hide-details":"",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(s,{cols:"12"},{default:a(()=>[e($,{elevation:"10"},{default:a(()=>[e(B,{class:"text-center"},{default:a(()=>[e(D,{loading:r.value,disabled:!u.value,color:"primary",width:"200",onClick:v},{default:a(()=>[w("开始转换")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1}),e(s,{cols:"12"},{default:a(()=>[e(m,{title:"转换结果"},{default:a(()=>[e(f,{class:"text-body-1 pa-5"},{default:a(()=>[n.value?(d(),c("p",{key:0,textContent:g(n.value),style:{"white-space":"pre-wrap"}},null,8,U)):(d(),c("p",j,"暂无结果"))]),_:1})]),_:1})]),_:1})]),_:1})],64))}});export{q as default};
