import{d as A,ac as K,at as L,r as b,x as w,o as j,U as m,S as z,k as V,Z as D,j as e,m as l,av as H,_ as n,Q as q,$ as i,W as f,n as _,aw as C,F as E,au as B}from"./utils-15090c58.js";import{_ as G}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-f6213a89.js";import{_ as Z}from"./UiParentCard.vue_vue_type_script_setup_true_lang-0e150107.js";import{A as J}from"./AlertBlock-c06c49ed.js";import{_ as O}from"./ConfirmByClick.vue_vue_type_style_index_0_lang-3456f2c5.js";import{_ as X}from"./AiAudio.vue_vue_type_style_index_0_lang-ab9d5699.js";import{V as ee}from"./VRow-ab8e6ed5.js";import{V as p}from"./VCol-e2fcfa86.js";import{a5 as te,V as le}from"./index-24ceeda1.js";import"./IconInfoCircle-03c84ef6.js";import"./VAlert-30650f94.js";import"./Confirm-aedf99ab.js";const ae=f("br",null,null,-1),oe={class:"text-primary font-weight-black"},ge=A({__name:"voiceList",setup(se){const{loadDictTree:S,getLabels:g}=K(),T=L();S(["speak_age_group","speak_gender","speak_provider","speak_lang"]);const F=b({title:"声音列表"}),N=b([{text:"声音合成",disabled:!1,href:"#"},{text:"声音列表",disabled:!0,href:"#"}]),d=w({speakName:"",provider:null,lang:null}),u=w({list:[],total:0}),k=b(),x=b(),c=w({id:"",name:""}),U=()=>{T.push("/voice-print/synthesis/synthesis-voice")},$=a=>{let o=[];return o.push({text:"删除",color:"error",click(){I(a)}}),o.push({text:"下载",color:"info",click(){R(a)}}),o},v=async(a={})=>{const[o,r]=await B.get({url:"/voice/tts",showLoading:k.value.el,data:{...d,...a}});r?(u.list=r.list||[],u.total=r.total):(u.list=[],u.total=0)},h=()=>{k.value.query({page:1})},I=a=>{c.name=a.speakCname,c.id=a.id,x.value.show({width:"400px",confirmText:c.name})},P=async(a={})=>{const[o,r]=await B.delete({...a,showSuccess:!0,url:`/voice/tts/${c.id}`});r&&(x.value.hide(),v())},R=a=>{window.open(a.s3Url)};return j(()=>{v()}),(a,o)=>{const r=m("Select"),W=m("ButtonsInForm"),s=m("el-table-column"),M=m("ButtonsInTable"),Q=m("TableWithPager"),Y=z("copy");return V(),D(E,null,[e(G,{title:F.value.title,breadcrumbs:N.value},null,8,["title","breadcrumbs"]),e(Z,null,{default:l(()=>[e(ee,null,{default:l(()=>[e(p,{cols:"12",lg:"3",md:"4",sm:"6"},{default:l(()=>[e(te,{modelValue:d.speakName,"onUpdate:modelValue":o[0]||(o[0]=t=>d.speakName=t),label:"请输入标识","hide-details":"",clearable:"",onKeyup:H(h,["enter"]),"onClick:clear":h},null,8,["modelValue","onKeyup"])]),_:1}),e(p,{cols:"12",lg:"3",md:"4",sm:"6"},{default:l(()=>[e(r,{modelValue:d.provider,"onUpdate:modelValue":o[1]||(o[1]=t=>d.provider=t),mapDictionary:{code:"speak_provider"},label:"请选择供应商","hide-details":"",onChange:h},null,8,["modelValue"])]),_:1}),e(p,{cols:"12",lg:"3",md:"4",sm:"6"},{default:l(()=>[e(r,{modelValue:d.lang,"onUpdate:modelValue":o[2]||(o[2]=t=>d.lang=t),mapDictionary:{code:"speak_lang"},label:"请选择语言","hide-details":"",onChange:h},null,8,["modelValue"])]),_:1}),e(p,{cols:"12",lg:"3",md:"4",sm:"6"},{default:l(()=>[e(W,null,{default:l(()=>[e(le,{color:"primary",onClick:U},{default:l(()=>[n("合成声音")]),_:1})]),_:1})]),_:1}),e(p,{cols:"12"},{default:l(()=>[e(J,null,{default:l(()=>[n("修改之后将实时生效，请谨慎操作！")]),_:1})]),_:1}),e(p,{cols:"12"},{default:l(()=>[e(Q,{onQuery:v,ref_key:"tableWithPagerRef",ref:k,infos:u},{default:l(()=>[e(s,{label:"标识",width:"150px","show-overflow-tooltip":""},{default:l(({row:t})=>[q((V(),D("span",null,[n(i(t.speakName),1)])),[[Y,t.speakName]])]),_:1}),e(s,{label:"姓名",prop:"speakCname",width:"100px"}),e(s,{label:"供应",width:"100px"},{default:l(({row:t})=>[f("span",null,i(_(g)([["speak_provider",t.provider]])),1)]),_:1}),e(s,{label:"语言",width:"160px"},{default:l(({row:t})=>[n(i(t.lang)+" ",1),f("span",null,i(_(g)([["speak_lang",t.lang]])),1)]),_:1}),e(s,{label:"音色",width:"120px"},{default:l(({row:t})=>[f("span",null,i(_(g)([["speak_age_group",t.ageGroup],["speak_gender",t.gender]],y=>y.length?y.join("")+"声":"未知")),1)]),_:1}),e(s,{label:"用时",prop:"duration",width:"120px"}),e(s,{label:"语速",prop:"speed",width:"120px"}),e(s,{label:"大小",width:"120px"},{default:l(({row:t})=>[n(i(_(C).getFileSize(t.size)),1)]),_:1}),e(s,{label:"试听",width:"330px"},{default:l(({row:t})=>[e(X,{src:t==null?void 0:t.s3Url},null,8,["src"])]),_:1}),e(s,{label:"内容",prop:"text","min-width":"300px","show-overflow-tooltip":""}),e(s,{label:"更新时间","min-width":"160px"},{default:l(({row:t})=>[n(i(_(C).dateFormat(t.updatedAt,"YYYY-MM-DD HH:mm:ss")),1)]),_:1}),e(s,{label:"操作",width:"120px",fixed:"right"},{default:l(({row:t})=>[e(M,{buttons:$(t)},null,8,["buttons"])]),_:1})]),_:1},8,["infos"])]),_:1})]),_:1})]),_:1}),e(O,{ref_key:"refConfirmDelete",ref:x,onSubmit:P},{text:l(()=>[n(" 这是进行一项操作时必须了解的重要信息"),ae,n(" 您将要删除 "),f("span",oe,i(c.name),1),n(" 人音频，确定要继续吗？ ")]),_:1},512)],64)}}});export{ge as default};
